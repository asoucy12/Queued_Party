{"ast":null,"code":"import _classCallCheck from \"/Users/Andy/Desktop/Queued_demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Andy/Desktop/Queued_demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Andy/Desktop/Queued_demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Andy/Desktop/Queued_demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Andy/Desktop/Queued_demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Andy/Desktop/Queued_demo/src/components/Home/Chatbox.js\";\nimport React from 'react';\nimport firebase from '../../firebase';\n\nvar Chatbox =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Chatbox, _React$Component);\n\n  function Chatbox(props) {\n    var _this;\n\n    _classCallCheck(this, Chatbox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chatbox).call(this, props));\n    _this.state = {\n      chats: []\n    };\n    return _this;\n  }\n\n  _createClass(Chatbox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var chatRef = firebase.database().ref('general');\n      chatRef.on('value', function (snapshot) {\n        var getChats = snapshot.val();\n        var ascChats = [];\n\n        for (var chat in getChats) {\n          if (getChats[chat].message !== '') {\n            ascChats.push({\n              id: chat,\n              message: getChats[chat].message,\n              user: getChats[chat].user,\n              date: getChats[chat].timestamp\n            });\n          }\n        }\n\n        var chats = ascChats.reverse();\n\n        _this2.setState({\n          chats: chats\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"chatbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"chat-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, this.state.chats.map(function (chat) {\n        var postDate = new Date(chat.date);\n        return React.createElement(\"li\", {\n          key: chat.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(\"em\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, postDate.getDate() + '/' + (postDate.getMonth() + 1)), React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, chat.user, \":\"), chat.message);\n      })));\n    }\n  }]);\n\n  return Chatbox;\n}(React.Component);\n\nexport default Chatbox;","map":{"version":3,"sources":["/Users/Andy/Desktop/Queued_demo/src/components/Home/Chatbox.js"],"names":["React","firebase","Chatbox","props","state","chats","chatRef","database","ref","on","snapshot","getChats","val","ascChats","chat","message","push","id","user","date","timestamp","reverse","setState","map","postDate","Date","getDate","getMonth","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;;IAEMC,O;;;;;AACL,mBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACjB,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,KAAK,EAAE;AADK,KAAb;AAFiB;AAKjB;;;;wCAEkB;AAAA;;AAClB,UAAMC,OAAO,GAAGL,QAAQ,CAACM,QAAT,GAAoBC,GAApB,CAAwB,SAAxB,CAAhB;AACAF,MAAAA,OAAO,CAACG,EAAR,CAAW,OAAX,EAAoB,UAAAC,QAAQ,EAAI;AAC/B,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,GAAT,EAAjB;AACA,YAAIC,QAAQ,GAAG,EAAf;;AACA,aAAI,IAAIC,IAAR,IAAgBH,QAAhB,EAAyB;AACxB,cAAGA,QAAQ,CAACG,IAAD,CAAR,CAAeC,OAAf,KAA2B,EAA9B,EAAiC;AAChCF,YAAAA,QAAQ,CAACG,IAAT,CAAc;AACbC,cAAAA,EAAE,EAAEH,IADS;AAEbC,cAAAA,OAAO,EAAEJ,QAAQ,CAACG,IAAD,CAAR,CAAeC,OAFX;AAGbG,cAAAA,IAAI,EAAEP,QAAQ,CAACG,IAAD,CAAR,CAAeI,IAHR;AAIbC,cAAAA,IAAI,EAAER,QAAQ,CAACG,IAAD,CAAR,CAAeM;AAJR,aAAd;AAMA;AACD;;AACD,YAAMf,KAAK,GAAGQ,QAAQ,CAACQ,OAAT,EAAd;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AAACjB,UAAAA,KAAK,EAALA;AAAD,SAAd;AACA,OAfD;AAgBA;;;6BAEO;AACP,aACC;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKD,KAAL,CAAWC,KAAX,CAAiBkB,GAAjB,CAAqB,UAAAT,IAAI,EAAI;AAC7B,YAAMU,QAAQ,GAAG,IAAIC,IAAJ,CAASX,IAAI,CAACK,IAAd,CAAjB;AACA,eACC;AAAI,UAAA,GAAG,EAAEL,IAAI,CAACG,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKO,QAAQ,CAACE,OAAT,KAAqB,GAArB,IAA4BF,QAAQ,CAACG,QAAT,KAAoB,CAAhD,CAAL,CADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASb,IAAI,CAACI,IAAd,MAFD,EAGEJ,IAAI,CAACC,OAHP,CADD;AAOA,OATA,CADF,CADD,CADD;AAgBA;;;;EA7CoBf,KAAK,CAAC4B,S;;AAgD5B,eAAe1B,OAAf","sourcesContent":["import React from 'react';\nimport firebase from '../../firebase';\n\nclass Chatbox extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tchats: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tconst chatRef = firebase.database().ref('general');\n\t\tchatRef.on('value', snapshot => {\n\t\t\tconst getChats = snapshot.val();\n\t\t\tlet ascChats = [];\n\t\t\tfor(let chat in getChats){\n\t\t\t\tif(getChats[chat].message !== ''){\n\t\t\t\t\tascChats.push({\n\t\t\t\t\t\tid: chat,\n\t\t\t\t\t\tmessage: getChats[chat].message,\n\t\t\t\t\t\tuser: getChats[chat].user,\n\t\t\t\t\t\tdate: getChats[chat].timestamp\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst chats = ascChats.reverse();\n\t\t\tthis.setState({chats});\n\t\t});\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"chatbox\">\n\t\t\t\t<ul className='chat-list'>\n\t\t\t\t\t{this.state.chats.map(chat => {\n\t\t\t\t\t\tconst postDate = new Date(chat.date);\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<li key={chat.id}>\n\t\t\t\t\t\t\t\t<em>{postDate.getDate() + '/' + (postDate.getMonth()+1)}</em>\n\t\t\t\t\t\t\t\t<strong>{chat.user}:</strong> \n\t\t\t\t\t\t\t\t{chat.message}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Chatbox;"]},"metadata":{},"sourceType":"module"}